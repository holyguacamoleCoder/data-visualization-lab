<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Student Submissions</title>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>
<body>
<h1>Student Submissions</h1>
<button id="loadAll">Load All Submissions</button>
<button id="filterSubmissions">Filter Submissions</button>
<button id="treeData">Tree Data</button>

<div id="submissions"></div>

<script>
document.getElementById('loadAll').addEventListener('click', () => {
    axios.get('http://localhost:5000/api/submissions')
        .then(response => displaySubmissions(response.data))
        .catch(error => console.error('Error:', error));
});

document.getElementById('filterSubmissions').addEventListener('click', () => {
    const studentID = prompt('Enter student ID:');
    const titleID = prompt('Enter title ID:');
    axios.get(`http://localhost:5000/api/submissions?studentID=${studentID}&titleID=${titleID}`)
        .then(response => displaySubmissions(response.data))
        .catch(error => console.error('Error:', error));
});

document.getElementById('treeData').addEventListener('click', () => {
    axios.get(`http://localhost:5000/api/tree_data`)
        .then(response => console.log(response.data))
        .catch(error => console.error('Error:', error));
});

function displaySubmissions(data) {
    const container = document.getElementById('submissions');
    container.innerHTML = ''; // Clear previous content
    data.forEach(submission => {
        const div = document.createElement('div');
        div.textContent = JSON.stringify(submission);
        container.appendChild(div);
    });
}
</script>
</body>
</html>